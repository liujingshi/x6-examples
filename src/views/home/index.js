import "@css/home.less";
import { assign } from "min-dash";
const templateStr = require("./template.html");
const templateItemStr = require("./template-item.html");

const items = [
    {
        url: "/plant/modeler",
        name: "工段设计器",
        svg: `
            <svg viewBox="0 0 1101 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="120" height="120" xmlns:xlink="http://www.w3.org/1999/xlink">
                <path d="M220.851892 474.361081h647.795315v46.864144H220.851892z" fill="#ffffff"></path>
                <path
                    d="M824.735135 509.601441v342.993874h-46.864144V509.601441zM311.812613 504.988829v342.993874h-46.864145V504.988829zM344.838919 556.465586h400.005766v46.864144H344.838919zM344.838919 645.765766h400.005766v46.864144H344.838919zM344.838919 732.298378h400.005766v46.864145H344.838919zM906.286126 135.057297H183.212973V88.193153h723.073153z"
                    fill="#ffffff"></path>
                <path
                    d="M859.606486 186.903063V106.274595h46.864145v80.628468zM183.212973 202.401441V121.772973h46.864144v80.628468z"
                    fill="#ffffff"></path>
                <path
                    d="M956.102342 228.97009H133.581261V182.105946h822.521081zM375.651171 354.986667H148.895135V308.122523h226.756036z"
                    fill="#ffffff"></path>
                <path
                    d="M130.998198 824.550631V183.212973h46.864144v641.337658zM998.907387 955.364324H89.115676v-46.864144h909.791711z"
                    fill="#ffffff"></path>
                <path d="M998.722883 870.123243H89.669189v-46.864144h909.053694z" fill="#ffffff"></path>
                <path
                    d="M951.858739 933.408288v-80.628468h46.864144v80.628468zM89.484685 927.31964v-80.628469h46.864144v80.628469zM909.238198 830.085766V188.748108h46.864144v641.337658zM848.720721 282.107387h-83.396036a20.664505 20.664505 0 0 0-20.664505 20.48v82.658018A20.48 20.48 0 0 0 765.324685 405.90991H848.720721a20.48 20.48 0 0 0 20.48-20.48V302.587387A20.48 20.48 0 0 0 848.720721 282.107387z m0 103.322523h-83.580541V302.587387H848.720721zM672.703423 283.214414H590.414414a20.664505 20.664505 0 0 0-20.664504 20.48v82.658018A20.664505 20.664505 0 0 0 590.414414 407.016937h82.658018a20.664505 20.664505 0 0 0 20.48-20.664505v-82.658018a20.48 20.48 0 0 0-20.849009-20.48z m0 103.322523H590.414414v-82.842523h82.842523z"
                    fill="#ffffff"></path>
            </svg>
        `,
    },
    {
        url: "/work-unit/modeler",
        name: "工作单元设计器",
        svg: `
            <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="120" height="120">
                <path
                    d="M384.50296694 156.87737323a38.71637677 38.71637677 0 0 1 36.71380537 36.71380536v190.91178835a38.71637677 38.71637677 0 0 1-36.71380537 36.71380537H193.59117859A38.71637677 38.71637677 0 0 1 156.87737323 384.50296694V193.59117859A38.71637677 38.71637677 0 0 1 193.59117859 156.87737323h190.91178835m0-66.75237323H193.59117859A105.46875001 105.46875001 0 0 0 90.125 193.59117859v190.91178835a105.24624225 105.24624225 0 0 0 103.46617859 103.46617859h190.91178835a105.24624225 105.24624225 0 0 0 103.46617859-103.46617859V193.59117859A105.24624225 105.24624225 0 0 0 384.50296694 90.125zM830.40882141 156.87737323a38.71637677 38.71637677 0 0 1 36.71380536 36.71380536v190.91178835a38.71637677 38.71637677 0 0 1-36.71380536 36.71380537h-191.13429611A38.71637677 38.71637677 0 0 1 601.89319587 384.50296694V193.59117859A38.71637677 38.71637677 0 0 1 639.2745253 156.87737323h191.13429611m0-66.75237323h-191.13429611A105.46875001 105.46875001 0 0 0 535.14082263 193.59117859v190.91178835a105.24624225 105.24624225 0 0 0 103.46617859 103.46617859h191.13429611a105.24624225 105.24624225 0 0 0 103.4661786-103.46617859V193.59117859A105.46875001 105.46875001 0 0 0 830.40882141 90.125zM384.50296694 601.89319587a38.71637677 38.71637677 0 0 1 36.71380537 36.71380535v191.13429611a38.71637677 38.71637677 0 0 1-36.71380537 36.71380536H193.59117859A38.71637677 38.71637677 0 0 1 156.87737323 830.40882141v-191.13429611A38.71637677 38.71637677 0 0 1 193.59117859 601.89319587h190.91178835m0-66.75237324H193.59117859A105.46875001 105.46875001 0 0 0 90.125 639.2745253v191.13429611a105.46875001 105.46875001 0 0 0 103.46617859 103.46617859h190.91178835a105.24624225 105.24624225 0 0 0 103.46617859-103.46617859v-191.13429611A105.24624225 105.24624225 0 0 0 384.50296694 535.14082263zM830.40882141 601.89319587a38.71637677 38.71637677 0 0 1 36.71380536 36.71380535v191.13429611a38.93888452 38.93888452 0 0 1-36.71380536 36.71380536h-191.13429611A38.71637677 38.71637677 0 0 1 601.89319587 830.40882141v-191.13429611A38.71637677 38.71637677 0 0 1 639.2745253 601.89319587h191.13429611m0-66.75237324h-191.13429611A105.46875001 105.46875001 0 0 0 535.14082263 639.2745253v191.13429611a105.46875001 105.46875001 0 0 0 103.46617859 103.46617859h191.13429611a105.46875001 105.46875001 0 0 0 103.4661786-103.46617859v-191.13429611A105.46875001 105.46875001 0 0 0 830.40882141 535.14082263z"
                    fill="#ffffff"></path>
                <path
                    d="M440.35245295 249.21815683h135.28481012v79.65783188h-135.28481013z m0 445.01582264h135.28481012v79.65783187h-135.28481013zM249.21815683 440.35245295h79.65783188v135.28481012H249.21815683z m445.01582264 0h79.65783187v135.28481012h-78.9903078z"
                    fill="#ffffff"></path>
            </svg>
        `,
    },
];

const init = function ($parent, props) {
    const defaults = {
        router: null,
    };
    props = assign({}, defaults, props);
    const element = $.tmpl(templateStr);
    $parent.append(element);
    loadItem($parent, props);
};

const loadItem = function ($parent, props) {
    const $body = $(".home-body", $parent);
    if ($body) {
        $body.empty();
        items.forEach((item) => {
            const $itemEl = $.tmpl(templateItemStr, item);
            if ($itemEl.length > 0) {
                $body.append($itemEl);
                $itemEl.on("click", () => {
                    event(item, props);
                });
            }
        });
    }
};

const event = function (item, props) {
    if (props.router) {
        props.router.gotoBlank(item.url);
    }
};

export default {
    init: init,
};
